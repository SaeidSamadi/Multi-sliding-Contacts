WipingController::Stabilizer:
  base: StabilizerStandingState
  StabilizerConfig:
    contacts: [Left, Right]
    # dcm_tracking:
    #   gains:
    #     prop: 5
    #     integral: 10 
    #     deriv: 0
    #   derivator_time_constant: 1
    #   integrator_time_constant: 10

WipingController::Stabilizer::Go:
  base: WipingController::Stabilizer
  completion:
    dcmEval: [0.005, 0.005, 0.05]

WipingController::Stabilizer::GoCenterFlat:
  base: WipingController::Stabilizer::Go
  above: CenterAnkles
  StabilizerConfig:
    contacts: [Left, Right]
    # Target flat floor orientation and height at current position (x,y) of the foot 
    Left:
      overwriteRPY:
        roll: 0
        pitch: 0
      height: 0
    Right:
      overwriteRPY:
        roll: 0
        pitch: 0
      height: 0

WipingController::Stabilizer::GoRightFlat:
  base: WipingController::Stabilizer::GoCenterFlat
  above: RightAnkle
  StabilizerConfig:
    contacts: [Left, Right]

WipingController::Stabilizer::RightFootFlatSupport:
  base: WipingController::Stabilizer
  above: RightAnkle
  StabilizerConfig:
    contacts: [Right]
    # Target flat floor orientation and height at current position (x,y) of the foot 
    Right:
      overwriteRPY:
        roll: 0
        pitch: 0
      height: 0
    
# FIXME: Behaviour is a bit shaky there
# Go to center between the feet with
# right foot contact at current position but flat on the ground
# left foot contact at current position and orientation on the slope
UpSlope::Stabilizer::GoCenter:
  base: WipingController::Stabilizer::Go
  stiffness: 3
  above: CenterAnkles
  StabilizerConfig:
    contacts: [Left, Right]
    # Target flat floor with right foot, and current orientation of the left (slope)
    Right:
      overwriteRPY:
        roll: 0
        pitch: 0
      height: 0

UpSlope::Stabilizer::Center:
  base: WipingController::Stabilizer::Go
  completion: {}
